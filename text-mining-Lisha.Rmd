---
title: "Text Analyis"
output: github_document
---

# Your mission

Perform text analysis.

## Okay, I need more information

Perform sentiment analysis or topic modeling using text analysis methods as demonstrated in the pre-class work and in the readings.

## Okay, I need even more information.

Do the above. Can't think of a data source?

- `gutenbergr`
- `AssociatedPress` from the `topicmodels` package
- `NYTimes` or `USCongress` from the `RTextTools` package
- Harry Potter Complete 7 Books text

```{r}
if (packageVersion("devtools") < 1.6) {
  install.packages("devtools")
}

devtools::install_github("bradleyboehmke/harrypotter")
```

- [State of the Union speeches](https://pradeepadhokshaja.wordpress.com/2017/03/31/scraping-the-web-for-presdential-inaugural-addresses-using-rvest/)

- Scrape tweets using [`twitteR`](https://www.r-bloggers.com/setting-up-the-twitter-r-package-for-text-analytics/)

- [Previous URL](https://www.credera.com/blog/business-intelligence/twitter-analytics-using-r-part-1-extract-tweets/)

Analyze the text for sentiment OR topic. **You do not need to do both**.

The datacamp courses and [Tidy Text Mining with R](http://tidytextmining.com/) are good starting points for templates to perform this type of analysis, but feel free to *expand beyond these examples*.

# Timelines and Task

We will spend the next 2 weeks working on analyzing textual data in R. You will do the following:

- Start with some text based data.
- Clean data and prepare it for analysis
- Ask questions about the data
- Answer these questions with the data using tables and graphics
- Each group member must have their own unique question that they code the answer for. 

##Twitter Extraction Libraries
```{r}
#install.packages("twitteR")
#install.packages("ROAuth")
library("twitteR")
library("ROAuth")
library(stringr)
library(dplyr)
library(tidytext)
consumer_key="uxezKTgNY6J9vDV2IN1QgKaHd"
consumer_secret="ezdvqK1w1vgA3PnyioIU56bW73DZmo9AWFfptFNsn7bz0Cs44A"
access_token="3759994332-tdFWvTsGAedAgvvw6vCiPkEFbnWedxCnpR83FUe"
access_secret="LXPvROXMJaN2e9WOcgqLTVTv0XahEM9ksE75QVm0sBxBZ"
setup_twitter_oauth(consumer_key,consumer_secret,access_token,access_secret)
Tsingtao<-searchTwitter("Tsingtao",1000, lang="en",since="2015-10-18",until = "2017-10-18")
```

```{r}
df<-do.call("rbind",lapply(Tsingtao,as.data.frame))
tweets<-df %>%
  group_by(text) %>%
  unnest_tokens(word,text) %>%
  ungroup() %>%
  select(word)
Tsingtao_sentiment<-tweets %>%
  inner_join(get_sentiments("nrc"))
```

